# Мониторинг процесса

Этот проект включает скрипт на bash, который предназначен для мониторинга процесса `test` в Linux. Скрипт выполняет различные задачи в зависимости от состояния процесса и может быть настроен для автоматического запуска при старте системы и выполнения по расписанию с помощью `systemd`.


## Скрипт: `monitoring-cat.sh`

### Описание
Этот скрипт:
- Проверяет, запущен ли процесс `test`.
- Получает случайный факт о кошках с `https://catfact.ninja/fact`.
- Логирует факт или ошибки в файл `/var/log/monitoring.log`.
- Отслеживает перезапуски процесса.

### Пример логов
`Thu Dec  5 00:00:07 MSK 2024 - Процесс btop был перезапущен. Новый PID: 1040`

`Thu Dec  5 00:04:59 MSK 2024 - Получен факт о кошках: A cat named Dusty, aged 1 7, living in Bonham, Texas, USA, gave birth to her 420th kitten on June 23, 1952.`
## Почему я обращаюсь к другому сайту?

Потому что `https://test.com/monitoring/test/api` не является валидным "сервером" и мы всегда будем видеть сообщение о том, что доступ получить не удалось.

Поэтому обратимся к другому API в данном случае к `"https://catfact.ninja/fact"`, чтобы получить случайный факт о кошке :)

## Демо

Проверка статуса процесса:

![status](https://github.com/user-attachments/assets/de2bec92-02f7-4e27-bc5a-8e6e35f81a4b)

Проверяем, что файл пуст:

![file-empty](https://github.com/user-attachments/assets/02449e5e-e19d-4d8b-8acf-208db406e09e)

Запускаем btop и ждем минуту для результата:

![btop and check](https://github.com/user-attachments/assets/a1726ac0-5ac0-4946-ae5d-d7485b794ed8)

Ждем еще какое-то время и снова проверяем файл (каждую минуту добавляется запись):

![check file again](https://github.com/user-attachments/assets/9fc6972d-511c-44b6-9a1e-572f5b159244)

### Тестирование и написание кода проводились на Windows 11 в среде WSL2
